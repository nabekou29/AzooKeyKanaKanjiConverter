import Foundation

enum Roman2KanaMaps {
    private static func constructPieceMap(_ base: [String: String], additionalMapping: [[InputTable.KeyElement]: [InputTable.ValueElement]] = [:]) -> [[InputTable.KeyElement]: [InputTable.ValueElement]] {
        var map: [[InputTable.KeyElement]: [InputTable.ValueElement]] = Dictionary(uniqueKeysWithValues: base.map { key, value in
            (key.map { .piece(.character($0)) }, value.map(InputTable.ValueElement.character))
        })
        map.merge(additionalMapping, uniquingKeysWith: { (first, _) in first })
        return map
    }

    private static let defaultRomanToKanaMap: [String: String] = [
        "a": "あ",
        "xa": "ぁ",
        "la": "ぁ",
        "i": "い",
        "xi": "ぃ",
        "li": "ぃ",
        "u": "う",
        "wu": "う",
        "vu": "ゔ",
        "xu": "ぅ",
        "lu": "ぅ",
        "e": "え",
        "xe": "ぇ",
        "le": "ぇ",
        "o": "お",
        "xo": "ぉ",
        "lo": "ぉ",
        "ka": "か",
        "ca": "か",
        "ga": "が",
        "xka": "ゕ",
        "lka": "ゕ",
        "ki": "き",
        "gi": "ぎ",
        "ku": "く",
        "cu": "く",
        "gu": "ぐ",
        "ke": "け",
        "ge": "げ",
        "xke": "ゖ",
        "lke": "ゖ",
        "ko": "こ",
        "co": "こ",
        "go": "ご",
        "sa": "さ",
        "za": "ざ",
        "si": "し",
        "ci": "し",
        "shi": "し",
        "zi": "じ",
        "ji": "じ",
        "su": "す",
        "zu": "ず",
        "se": "せ",
        "ce": "せ",
        "ze": "ぜ",
        "so": "そ",
        "zo": "ぞ",
        "ta": "た",
        "da": "だ",
        "ti": "ち",
        "chi": "ち",
        "di": "ぢ",
        "tu": "つ",
        "tsu": "つ",
        "xtu": "っ",
        "ltu": "っ",
        "xtsu": "っ",
        "ltsu": "っ",
        "du": "づ",
        "te": "て",
        "de": "で",
        "to": "と",
        "do": "ど",
        "na": "な",
        "ni": "に",
        "nu": "ぬ",
        "ne": "ね",
        "no": "の",
        "ha": "は",
        "ba": "ば",
        "pa": "ぱ",
        "hi": "ひ",
        "bi": "び",
        "pi": "ぴ",
        "hu": "ふ",
        "fu": "ふ",
        "bu": "ぶ",
        "pu": "ぷ",
        "he": "へ",
        "be": "べ",
        "pe": "ぺ",
        "ho": "ほ",
        "bo": "ぼ",
        "po": "ぽ",
        "ma": "ま",
        "mi": "み",
        "mu": "む",
        "me": "め",
        "mo": "も",
        "ya": "や",
        "xya": "ゃ",
        "lya": "ゃ",
        "yu": "ゆ",
        "xyu": "ゅ",
        "lyu": "ゅ",
        "yo": "よ",
        "xyo": "ょ",
        "lyo": "ょ",
        "ra": "ら",
        "ri": "り",
        "ru": "る",
        "re": "れ",
        "ro": "ろ",
        "wa": "わ",
        "xwa": "ゎ",
        "lwa": "ゎ",
        "wyi": "ゐ",
        "wye": "ゑ",
        "wo": "を",
        "nn": "ん",
        "ye": "いぇ",
        "va": "ゔぁ",
        "vi": "ゔぃ",
        "ve": "ゔぇ",
        "vo": "ゔぉ",
        "kya": "きゃ",
        "kyu": "きゅ",
        "kye": "きぇ",
        "kyo": "きょ",
        "gya": "ぎゃ",
        "gyu": "ぎゅ",
        "gye": "ぎぇ",
        "gyo": "ぎょ",
        "qa": "くぁ",
        "kwa": "くぁ",
        "qwa": "くぁ",
        "qi": "くぃ",
        "kwi": "くぃ",
        "qwi": "くぃ",
        "qu": "くぅ",
        "kwu": "くぅ",
        "qwu": "くぅ",
        "qe": "くぇ",
        "kwe": "くぇ",
        "qwe": "くぇ",
        "qo": "くぉ",
        "kwo": "くぉ",
        "qwo": "くぉ",
        "gwa": "ぐぁ",
        "gwi": "ぐぃ",
        "gwu": "ぐぅ",
        "gwe": "ぐぇ",
        "gwo": "ぐぉ",
        "sha": "しゃ",
        "sya": "しゃ",
        "shu": "しゅ",
        "syu": "しゅ",
        "she": "しぇ",
        "sye": "しぇ",
        "sho": "しょ",
        "syo": "しょ",
        "ja": "じゃ",
        "zya": "じゃ",
        "jya": "じゃ",
        "jyi": "じぃ",
        "ju": "じゅ",
        "zyu": "じゅ",
        "jyu": "じゅ",
        "je": "じぇ",
        "zye": "じぇ",
        "jye": "じぇ",
        "jo": "じょ",
        "zyo": "じょ",
        "jyo": "じょ",
        "swa": "すぁ",
        "swi": "すぃ",
        "swu": "すぅ",
        "swe": "すぇ",
        "swo": "すぉ",
        "cha": "ちゃ",
        "cya": "ちゃ",
        "tya": "ちゃ",
        "tyi": "ちぃ",
        "cyi": "ちぃ",
        "chu": "ちゅ",
        "cyu": "ちゅ",
        "tyu": "ちゅ",
        "che": "ちぇ",
        "cye": "ちぇ",
        "tye": "ちぇ",
        "cho": "ちょ",
        "cyo": "ちょ",
        "tyo": "ちょ",
        "tsa": "つぁ",
        "tsi": "つぃ",
        "tse": "つぇ",
        "tso": "つぉ",
        "tha": "てゃ",
        "thi": "てぃ",
        "thu": "てゅ",
        "the": "てぇ",
        "tho": "てょ",
        "twa": "とぁ",
        "twi": "とぃ",
        "twu": "とぅ",
        "twe": "とぇ",
        "two": "とぉ",
        "dya": "ぢゃ",
        "dyi": "ぢぃ",
        "dyu": "ぢゅ",
        "dye": "ぢぇ",
        "dyo": "ぢょ",
        "dha": "でゃ",
        "dhi": "でぃ",
        "dhu": "でゅ",
        "dhe": "でぇ",
        "dho": "でょ",
        "dwa": "どぁ",
        "dwi": "どぃ",
        "dwu": "どぅ",
        "dwe": "どぇ",
        "dwo": "どぉ",
        "nya": "にゃ",
        "nyi": "にぃ",
        "nyu": "にゅ",
        "nye": "にぇ",
        "nyo": "にょ",
        "hya": "ひゃ",
        "hyi": "ひぃ",
        "hyu": "ひゅ",
        "hye": "ひぇ",
        "hyo": "ひょ",
        "bya": "びゃ",
        "byi": "びぃ",
        "byu": "びゅ",
        "bye": "びぇ",
        "byo": "びょ",
        "pya": "ぴゃ",
        "pyi": "ぴぃ",
        "pyu": "ぴゅ",
        "pye": "ぴぇ",
        "pyo": "ぴょ",
        "fa": "ふぁ",
        "hwa": "ふぁ",
        "fwa": "ふぁ",
        "fi": "ふぃ",
        "hwi": "ふぃ",
        "fwi": "ふぃ",
        "fwu": "ふぅ",
        "fe": "ふぇ",
        "hwe": "ふぇ",
        "fwe": "ふぇ",
        "fo": "ふぉ",
        "hwo": "ふぉ",
        "fwo": "ふぉ",
        "fya": "ふゃ",
        "fyu": "ふゅ",
        "fyo": "ふょ",
        "mya": "みゃ",
        "myi": "みぃ",
        "myu": "みゅ",
        "mye": "みぇ",
        "myo": "みょ",
        "rya": "りゃ",
        "ryi": "りぃ",
        "ryu": "りゅ",
        "rye": "りぇ",
        "ryo": "りょ",
        "wi": "うぃ",
        "we": "うぇ",
        "wha": "うぁ",
        "whi": "うぃ",
        "whu": "う",
        "whe": "うぇ",
        "who": "うぉ",
        "bb": "っb",
        "cc": "っc",
        "dd": "っd",
        "ff": "っf",
        "gg": "っg",
        "hh": "っh",
        "jj": "っj",
        "kk": "っk",
        "ll": "っl",
        "mm": "っm",
        "pp": "っp",
        "qq": "っq",
        "rr": "っr",
        "ss": "っs",
        "tt": "っt",
        "vv": "っv",
        "ww": "っw",
        "xx": "っx",
        "yy": "っy",
        "zz": "っz",
        "ny": "ny",  // n<any> -> ん<any>の例外処理
        "xn": "ん",
        "zh": "←",
        "zj": "↓",
        "zk": "↑",
        "zl": "→"
    ]

    /// Mapping including special end-of-text rules.
    static let defaultRomanToKanaPieceMap = Self.constructPieceMap(defaultRomanToKanaMap, additionalMapping: [
        [.piece(.compositionSeparator)]: [],
        [.piece(.character("n")), .piece(.compositionSeparator)]: [.character("ん")],
        [.piece(.character("n")), .any1]: [.character("ん"), .any1]
    ])

    static let defaultAzikPieceMap: [[InputTable.KeyElement]: [InputTable.ValueElement]] = Self.constructPieceMap([
        // 基本の五十音
        "a": "あ",
        "i": "い",
        "u": "う",
        "e": "え",
        "o": "お",
        "ka": "か",
        "ki": "き",
        "ku": "く",
        "ke": "け",
        "ko": "こ",
        "sa": "さ",
        "si": "し",
        "su": "す",
        "se": "せ",
        "so": "そ",
        "ta": "た",
        "ti": "ち",
        "tu": "つ",
        "te": "て",
        "to": "と",
        "na": "な",
        "ni": "に",
        "nu": "ぬ",
        "ne": "ね",
        "no": "の",
        "ha": "は",
        "hi": "ひ",
        "hu": "ふ",
        "he": "へ",
        "ho": "ほ",
        "ma": "ま",
        "mi": "み",
        "mu": "む",
        "me": "め",
        "mo": "も",
        "ya": "や",
        "yu": "ゆ",
        "yo": "よ",
        "ra": "ら",
        "ri": "り",
        "ru": "る",
        "re": "れ",
        "ro": "ろ",
        "wa": "わ",
        "wi": "うぃ",
        "we": "うぇ",
        "wo": "を",
        
        // 濁音
        "ga": "が",
        "gi": "ぎ",
        "gu": "ぐ",
        "ge": "げ",
        "go": "ご",
        "za": "ざ",
        "zi": "じ",
        "zu": "ず",
        "ze": "ぜ",
        "zo": "ぞ",
        "da": "だ",
        "di": "ぢ",
        "du": "づ",
        "de": "で",
        "do": "ど",
        "ba": "ば",
        "bi": "び",
        "bu": "ぶ",
        "be": "べ",
        "bo": "ぼ",
        
        // 半濁音
        "pa": "ぱ",
        "pi": "ぴ",
        "pu": "ぷ",
        "pe": "ぺ",
        "po": "ぽ",
        
        // 拗音
        "kya": "きゃ",
        "kyu": "きゅ",
        "kye": "きぇ",
        "kyo": "きょ",
        "kga": "きゃ",
        "kgu": "きゅ",
        "kge": "きぇ",
        "kgo": "きょ",
        "sya": "しゃ",
        "syu": "しゅ",
        "sye": "しぇ",
        "syo": "しょ",
        "xa": "しゃ",
        "xu": "しゅ",
        "xe": "しぇ",
        "xo": "しょ",
        "tya": "ちゃ",
        "tyu": "ちゅ",
        "tye": "ちぇ",
        "tyo": "ちょ",
        "ca": "ちゃ",
        "cu": "ちゅ",
        "ce": "ちぇ",
        "co": "ちょ",
        "nya": "にゃ",
        "nyu": "にゅ",
        "nye": "にぇ",
        "nyo": "にょ",
        "nga": "にゃ",
        "ngu": "にゅ",
        "nge": "にぇ",
        "ngo": "にょ",
        "hya": "ひゃ",
        "hyu": "ひゅ",
        "hye": "ひぇ",
        "hyo": "ひょ",
        "hga": "ひゃ",
        "hgu": "ひゅ",
        "hge": "ひぇ",
        "hgo": "ひょ",
        "mya": "みゃ",
        "myu": "みゅ",
        "mye": "みぇ",
        "myo": "みょ",
        "mga": "みゃ",
        "mgu": "みゅ",
        "mge": "みぇ",
        "mgo": "みょ",
        "rya": "りゃ",
        "ryu": "りゅ",
        "rye": "りぇ",
        "ryo": "りょ",
        "gya": "ぎゃ",
        "gyu": "ぎゅ",
        "gye": "ぎぇ",
        "gyo": "ぎょ",
        "zya": "じゃ",
        "zyu": "じゅ",
        "zye": "じぇ",
        "zyo": "じょ",
        "ja": "じゃ",
        "ju": "じゅ",
        "je": "じぇ",
        "jo": "じょ",
        "bya": "びゃ",
        "byu": "びゅ",
        "bye": "びぇ",
        "byo": "びょ",
        "pya": "ぴゃ",
        "pyu": "ぴゅ",
        "pye": "ぴぇ",
        "pyo": "ぴょ",
        "pga": "ぴゃ",
        "pgu": "ぴゅ",
        "pge": "ぴぇ",
        "pgo": "ぴょ",
        
        // ファ行
        "fa": "ふぁ",
        "fi": "ふぃ",
        "fu": "ふ",
        "fe": "ふぇ",
        "fo": "ふぉ",
        
        // ヴァ行
        "va": "ヴぁ",
        "vi": "ヴぃ",
        "vu": "ヴ",
        "ve": "ヴぇ",
        "vo": "ヴぉ",
        
        // 特殊音
        "tgi": "てぃ",
        "tgu": "とぅ",
        "dci": "でぃ",
        "dcu": "どぅ",
        "wso": "うぉ",
        
        // 小書き文字
        "la": "ぁ",
        "li": "ぃ",
        "lu": "ぅ",
        "le": "ぇ",
        "lo": "ぉ",
        "lya": "ゃ",
        "lyu": "ゅ",
        "lyo": "ょ",
        
        // 特殊文字
        ";": "っ",
        "；": "っ",
        "q": "ん",
        "-": "ー",
        ":": "ー",
        "：": "ー",
        "~": "〜",
        ".": "。",
        ",": "、",
        "z/": "・",
        "z.": "…",
        "z,": "‥",
        "z-": "〜",
        "z[": "『",
        "z]": "』",
        "[": "「",
        "]": "」",
        
        // 撥音拡張（ん）
        "kz": "かん",
        "kn": "かん",
        "kk": "きん",
        "kj": "くん",
        "kd": "けん",
        "kl": "こん",
        "sz": "さん",
        "sn": "さん",
        "sk": "しん",
        "sj": "すん",
        "sd": "せん",
        "sl": "そん",
        "tz": "たん",
        "tn": "たん",
        "tk": "ちん",
        "tj": "つん",
        "td": "てん",
        "tl": "とん",
        "nz": "なん",
        "nn": "なん",
        "nk": "にん",
        "nj": "ぬん",
        "nd": "ねん",
        "nl": "のん",
        "hz": "はん",
        "hn": "はん",
        "hk": "ひん",
        "hj": "ふん",
        "hd": "へん",
        "hl": "ほん",
        "mz": "まん",
        "mn": "まん", // 「もの」ではなく「まん」に変換
        "mk": "みん",
        "mj": "むん",
        "md": "めん",
        "ml": "もん",
        "yz": "やん",
        "yn": "やん",
        "yj": "ゆん",
        "yl": "よん",
        "rz": "らん",
        "rn": "らん",
        "rk": "りん",
        "rj": "るん",
        "rd": "れん",
        "rl": "ろん",
        "wz": "わん",
        "wn": "わん",
        "wk": "うぃん",
        "wd": "うぇん",
        "wl": "うぉん",
        "gz": "がん",
        "gn": "がん",
        "gk": "ぎん",
        "gj": "ぐん",
        "gd": "げん",
        "gl": "ごん",
        "zz": "ざん",
        "zn": "ざん",
        "zk": "じん",
        "zj": "ずん",
        "zd": "ぜん",
        "zl": "ぞん",
        "dz": "だん",
        "dn": "だん",
        "dk": "ぢん",
        "dj": "づん",
        "dd": "でん",
        "dl": "どん",
        "bz": "ばん",
        "bn": "ばん",
        "bk": "びん",
        "bj": "ぶん",
        "bd": "べん",
        "bl": "ぼん",
        "pz": "ぱん",
        "pn": "ぱん",
        "pk": "ぴん",
        "pj": "ぷん",
        "pd": "ぺん",
        "pl": "ぽん",
        "kyz": "きゃん",
        "kyn": "きゃん",
        "kyj": "きゅん",
        "kyd": "きぇん",
        "kyl": "きょん",
        "kgz": "きゃん",
        "kgn": "きゃん",
        "kgj": "きゅん",
        "kgd": "きぇん",
        "kgl": "きょん",
        "syz": "しゃん",
        "syn": "しゃん",
        "syj": "しゅん",
        "syd": "しぇん",
        "syl": "しょん",
        "xz": "しゃん",
        "xn": "しゃん",
        "xj": "しゅん",
        "xd": "しぇん",
        "xl": "しょん",
        "tyz": "ちゃん",
        "tyn": "ちゃん",
        "tyj": "ちゅん",
        "tyd": "ちぇん",
        "tyl": "ちょん",
        "cz": "ちゃん",
        "cn": "ちゃん",
        "cj": "ちゅん",
        "cd": "ちぇん",
        "cl": "ちょん",
        "nyz": "にゃん",
        "nyn": "にゃん",
        "nyj": "にゅん",
        "nyd": "にぇん",
        "nyl": "にょん",
        "ngz": "にゃん",
        "ngn": "にゃん",
        "ngj": "にゅん",
        "ngd": "にぇん",
        "ngl": "にょん",
        "hyz": "ひゃん",
        "hyn": "ひゃん",
        "hyj": "ひゅん",
        "hyd": "ひぇん",
        "hyl": "ひょん",
        "hgz": "ひゃん",
        "hgn": "ひゃん",
        "hgj": "ひゅん",
        "hgd": "ひぇん",
        "hgl": "ひょん",
        "myz": "みゃん",
        "myn": "みゃん",
        "myj": "みゅん",
        "myd": "みぇん",
        "myl": "みょん",
        "mgz": "みゃん",
        "mgn": "みゃん",
        "mgj": "みゅん",
        "mgd": "みぇん",
        "mgl": "みょん",
        "ryz": "りゃん",
        "ryn": "りゃん",
        "ryj": "りゅん",
        "ryd": "りぇん",
        "ryl": "りょん",
        "gyz": "ぎゃん",
        "gyn": "ぎゃん",
        "gyj": "ぎゅん",
        "gyd": "ぎぇん",
        "gyl": "ぎょん",
        "zyz": "じゃん",
        "zyn": "じゃん",
        "zyj": "じゅん",
        "zyd": "じぇん",
        "zyl": "じょん",
        "jz": "じゃん",
        "jn": "じゃん",
        "jj": "じゅん",
        "jd": "じぇん",
        "jl": "じょん",
        "byz": "びゃん",
        "byn": "びゃん",
        "byj": "びゅん",
        "byd": "びぇん",
        "byl": "びょん",
        "pyz": "ぴゃん",
        "pyn": "ぴゃん",
        "pyj": "ぴゅん",
        "pyd": "ぴぇん",
        "pyl": "ぴょん",
        "pgz": "ぴゃん",
        "pgn": "ぴゃん",
        "pgj": "ぴゅん",
        "pgd": "ぴぇん",
        "pgl": "ぴょん",
        "fz": "ふぁん",
        "fn": "ふぁん",
        "fk": "ふぃん",
        "fj": "ふん",
        "fd": "ふぇん",
        "fl": "ふぉん",
        "vz": "ヴぁん",
        "vn": "ヴぁん",
        "vk": "ヴぃん",
        "vj": "ヴん",
        "vd": "ヴぇん",
        "vl": "ヴぉん",
        "tgk": "てぃん",
        "tgj": "とぅん",
        "dck": "でぃん",
        "dcj": "どぅん",
        "lz": "ぁん",
        "ln": "ぁん",
        "lk": "ぃん",
        "ld": "ぇん",
        "ll": "ぉん",
        "lyz": "ゃん",
        "lyn": "ゃん",
        "lyj": "ゅん",
        "lyl": "ょん",
        
        // 二重母音
        "kq": "かい",
        "kh": "くう",
        "kw": "けい",
        "kp": "こう",
        "sq": "さい",
        "sh": "すう",
        "sw": "せい",
        "sp": "そう",
        "tq": "たい",
        "th": "つう",
        "tw": "てい",
        "tp": "とう",
        "nq": "ない",
        "nh": "ぬう",
        "nw": "ねい",
        "np": "のう",
        "hq": "はい",
        "hh": "ふう",
        "hw": "へい",
        "hp": "ほう",
        "mq": "まい",
        "mh": "むう",
        "mw": "めい",
        "mp": "もう",
        "yq": "やい",
        "yh": "ゆう",
        "yp": "よう",
        "rq": "らい",
        "rh": "るう",
        "rw": "れい",
        "rp": "ろう",
        "gq": "がい",
        "gh": "ぐう",
        "gw": "げい",
        "gp": "ごう",
        "zq": "ざい",
        "zh": "ずう",
        "zw": "ぜい",
        "zp": "ぞう",
        "dq": "だい",
        "dh": "づう",
        "dw": "でい",
        "dp": "どう",
        "bq": "ばい",
        "bh": "ぶう",
        "bw": "べい",
        "bp": "ぼう",
        "pq": "ぱい",
        "ph": "ぷう",
        "pw": "ぺい",
        "pp": "ぽう",
        "kyq": "きゃい",
        "kyh": "きゅう",
        "kyw": "きぇい",
        "kyp": "きょう",
        "kgq": "きゃい",
        "kgh": "きゅう",
        "kgw": "きぇい",
        "kgp": "きょう",
        "syq": "しゃい",
        "syh": "しゅう",
        "syw": "しぇい",
        "syp": "しょう",
        "xq": "しゃい",
        "xh": "しゅう",
        "xw": "しぇい",
        "xp": "しょう",
        "tyq": "ちゃい",
        "tyh": "ちゅう",
        "tyw": "ちぇい",
        "typ": "ちょう",
        "cq": "ちゃい",
        "ch": "ちゅう",
        "cw": "ちぇい",
        "cp": "ちょう",
        "nyq": "にゃい",
        "nyh": "にゅう",
        "nyw": "にぇい",
        "nyp": "にょう",
        "hyq": "ひゃい",
        "hyh": "ひゅう",
        "hyw": "ひぇい",
        "hyp": "ひょう",
        "hgq": "ひゃい",
        "hgh": "ひゅう",
        "hgw": "ひぇい",
        "hgp": "ひょう",
        "myq": "みゃい",
        "myh": "みゅう",
        "myw": "みぇい",
        "myp": "みょう",
        "mgq": "みゃい",
        "mgh": "みゅう",
        "mgw": "みぇい",
        "mgp": "みょう",
        "ryq": "りゃい",
        "ryh": "りゅう",
        "ryw": "りぇい",
        "ryp": "りょう",
        "gyq": "ぎゃい",
        "gyh": "ぎゅう",
        "gyw": "ぎぇい",
        "gyp": "ぎょう",
        "zyq": "じゃい",
        "zyh": "じゅう",
        "zyw": "じぇい",
        "zyp": "じょう",
        "jq": "じゃい",
        "jh": "じゅう",
        "jw": "じぇい",
        "jp": "じょう",
        "byq": "びゃい",
        "byh": "びゅう",
        "byw": "びぇい",
        "byp": "びょう",
        "pyq": "ぴゃい",
        "pyh": "ぴゅう",
        "pyw": "ぴぇい",
        "pyp": "ぴょう",
        "pgq": "ぴゃい",
        "pgh": "ぴゅう",
        "pgw": "ぴぇい",
        "pgp": "ぴょう",
        "fq": "ふぁい",
        "fh": "ふう",
        "fw": "ふぇい",
        "fp": "ふぉー",
        "vq": "ヴぁい",
        "vh": "ヴー",
        "vw": "ヴぇい",
        "vp": "ヴぉー",
        "tgh": "とぅー",
        "dch": "どぅー",
        "wq": "わい",
        "ww": "うぇい",
        "wp": "うぉー",
        "lq": "ぁい",
        "lh": "ぅう",
        "lw": "ぇい",
        "lp": "ぉう",
        "lyq": "ゃい",
        "lyh": "ゅう",
        "lyp": "ょう",
        
        // その他の特殊マッピング
        "wf": "わい",
        "sf": "さい",
        "ss": "せい",
        "zc": "ざ",
        "zv": "ざい",
        "zf": "ぜ",
        "zx": "ぜい",
        "kf": "き",
        "jf": "じゅ",
        "hf": "ふ",
        "yf": "ゆ",
        "mf": "む",
        "nf": "ぬ",
        "df": "で",
        "cf": "ちぇ",
        "pf": "ぽん",
        
        // 頻出語彙
        "kt": "こと",
        "km": "かも",
        "sr": "する",
        "st": "した",
        // "mn": "もの",
        "tm": "ため",
        "tr": "たら",
        "dt": "だち",
        "tt": "たち",
        "ms": "ます",
        "dm": "でも",
        "nr": "なる",
        "mt": "また",
        "gr": "がら",
        "ds": "です",
        "kr": "から",
        "yr": "よる",
        "tb": "たび",
        "gt": "ごと",
        "jsn": "ません",
        "jg": "ました",
        "dv": "でして",
        "ji": "じ",
        "jk": "じん",
        
        // 矢印記号
        "zH": "←",
        "zJ": "↓",
        "zK": "↑",
        "zL": "→",
        "z:": "：",
        "z;": "；",
        "z：": "：",
        "z；": "；",
        
        // 特殊括弧
        "ª": "【",
        "º": "】",
        "｛": "『",
        "}": "』"
    ], additionalMapping: [
        [.piece(.compositionSeparator)]: []
    ])
}
